
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Compress and Obfuscate Your JavaScript with this YUI Compressor Script - Sweetmeat</title>
  <meta name="author" content="Chris Simpkins">
  
  <meta name="description" content="Learn how to compress and obfuscate your JavaScript files with YUI Compressor">
  <meta name="keywords" content="javascript, js, .js, compression, compress, obfuscate, how to, yui, YUI, YUI Compressor, yuicompressor">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  <link href='//fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Cabin:700' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Stalemate' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Lato:700' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
  <link rel="canonical" href="http://sweetme.at/2013/09/19/compress-and-obfuscate-your-javascript-with-this-yui-compressor-script">
  <link href="/favicon.ico" rel="icon">
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <link href="/atom.xml" rel="alternate" title="Sweetmeat" type="application/atom+xml">
  <meta name="msvalidate.01" content="B7F76ABC07B92C53D7A954927CB1BE82" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42941038-1', 'sweetme.at');
  ga('send', 'pageview');
</script>
  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <div id="sm-blog-title"><h1><a href="/">sweet<span id="title-color">meat</span></a> <i class="icon-food"></i></h1></div>
  
    <h2 class="sm-subtitle"> Juicy lil' bytes</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/sweetmeat" title="subscribe via RSS" class="rsslink"><i class="icon-rss icon-4x fullsize"></i></a></li>
  
</ul>
  
<ul class="main-navigation">
  <li><span id="sm-nav-1-color"><a href="/" title="Home"><i class="icon-home icon-4x"></i></a></span></li>
  <li><span id="sm-nav-2-color"><a href="/blog/archives" title="Archives"><i class="icon-archive icon-4x"></i></a></span></li>
  <li><span id="sm-nav-3-color"><a href="http://more.sweetme.at" title="Even More Sweetmeat"><i class="icon-link icon-4x"></i></a></span></li>
  <li><span id="sm-nav-twitter-color"><a href="https://twitter.com/csimpkins" title="@csimpkins Twitter"><i class="icon-twitter-sign icon-4x"></i></a></span></li>
  <li><span id="sm-nav-github-color"><a href="https://github.com/chrissimpkins/" title="@chrissimpkins GitHub"><i class="icon-github-sign icon-4x"></i></a></span></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Compress and Obfuscate Your JavaScript With This YUI Compressor Script</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-19T23:04:00-04:00" pubdate data-updated="true">Sep 19<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>The YUI Compressor is a tool that was developed by Yahoo for JavaScript obfuscation and compression (and CSS compression).  This shell script makes it simple to minify one or more JS files.</p>

<!--More-->


<h2>What it Does</h2>

<p>According to <a href="http://yui.github.io/yuicompressor/">the documentation</a>:</p>

<blockquote><p>It starts by analyzing the source JavaScript file to understand how it is structured. It then prints out the token stream, omitting as many white space characters as possible, and replacing all local symbols by a 1 (or 2, or 3) letter symbol wherever such a substitution is appropriate (in the face of evil features such as eval or with, the YUI Compressor takes a defensive approach by not obfuscating any of the scopes containing the evil statement).</p></blockquote>

<h2>Dependencies</h2>

<p>The YUI Compressor is a Java .jar file and Java version 1.4+ is necessary to run it on your system.</p>

<h2>Download YUI Compressor</h2>

<p>Release 2.4.8 is <a href="https://github.com/yui/yuicompressor/releases">available on the GitHub repository</a>.  Download and decompress the <code>yuicompressor-2.4.8.jar</code> file.</p>

<h2>Set Up Your Shell Script</h2>

<p>You can use the yuijs.sh script below (also available on <a href="https://github.com/chrissimpkins/scriptacular/blob/master/compress/yuijs.sh">my GitHub repository</a>):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># Modify YUI_PATH with the path to the yuicompressor jar file</span>
</span><span class='line'><span class="nv">YUI_PATH</span><span class="o">=</span><span class="s2">&quot;path/to/yuicompressor-2.4.8.jar&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span>-eq 0 <span class="o">]</span>; <span class="k">then</span>
</span><span class='line'><span class="k">  </span><span class="nb">echo</span> <span class="s2">&quot;Please include the file path(s) for the file(s) that you would like to compress.&quot;</span> 1&gt;&amp;2
</span><span class='line'>  <span class="nb">exit </span>1
</span><span class='line'><span class="k">fi</span>
</span><span class='line'>
</span><span class='line'><span class="k">for </span>file in <span class="s2">&quot;$@&quot;</span>;
</span><span class='line'><span class="k">do</span>
</span><span class='line'><span class="k">if</span> <span class="o">[</span> -f <span class="s2">&quot;$file&quot;</span> <span class="o">]</span>; <span class="k">then</span>
</span><span class='line'><span class="k">      </span>java -jar <span class="s2">&quot;$YUI_PATH&quot;</span> -o <span class="s2">&quot;${file%%.*}-min.js&quot;</span> <span class="s2">&quot;$file&quot;</span>
</span><span class='line'>      <span class="k">if</span> <span class="o">((</span> <span class="nv">$?</span> <span class="o">))</span>; <span class="k">then</span>
</span><span class='line'><span class="k">          </span><span class="nb">echo</span> <span class="s2">&quot;$file was not able to be minified&quot;</span>
</span><span class='line'>          <span class="nb">exit </span>1
</span><span class='line'>      <span class="k">else</span>
</span><span class='line'><span class="k">          </span><span class="nb">echo</span> <span class="s2">&quot;$file was minified to ${file%%.*}-min.js&quot;</span>
</span><span class='line'>      <span class="k">fi</span>
</span><span class='line'><span class="k">  else</span>
</span><span class='line'><span class="k">      </span><span class="nb">echo</span> <span class="s2">&quot;Unable to find the javascript file &#39;$file&#39;.&quot;</span>
</span><span class='line'><span class="k">fi</span>
</span><span class='line'><span class="k">done</span>;
</span><span class='line'><span class="nb">exit </span>0
</span></code></pre></td></tr></table></div></figure>


<p>Change the <code>YUI_PATH</code> variable to the actual path to your <code>yuicompressor-2.4.8.jar</code> file.  Save the file and use the command <code>chmod 744 yuijs.sh</code> to make it executable.</p>

<h2>Make a Bash Alias</h2>

<p>Create an alias for your shell script so that you don&rsquo;t have to type the full path to the script each time that you use it.  Let&rsquo;s say that you saved the <code>yuijs.sh</code> file on the path <code>~/scripts/yuijs.sh</code>.   Open your bash startup file (either <code>.bash_profile</code> or <code>.bashrc</code>) and enter the following line to create the alias minijs:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">alias </span><span class="nv">minijs</span><span class="o">=</span><span class="s2">&quot;~/scripts/yuijs.sh&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>To use this alias in your current shell process, use the source command on the bash startup file.  Assuming that you placed this in the <code>.bash_profile</code> file and your working directory contains that file, your command is:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">source</span> .bash_profile
</span></code></pre></td></tr></table></div></figure>


<p>It is not necessary to run the source command again when you close and then reopen your terminal.</p>

<h2>Compress Your JS Files with YUI Compressor</h2>

<p>You&rsquo;re all set.  Now you can use the alias in any directory.  Navigate to a directory that contains one or more JS files and go to town.  It works with as many files as you&rsquo;d like to throw at it.  The file is compressed and obfuscated, and then saved as the original file name with a <code>-min</code> suffix.  The original file is <em>not modified</em> and remains in the same directory.  Hang on to the original because the obfuscated file is no longer human readable (intentionally so as to minimize file size).</p>

<h4>Single File Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>minijs example.js
</span></code></pre></td></tr></table></div></figure>


<p>
creates the file <code>example-min.js</code>.</p>

<h4>Multiple Files Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>minijs example.js example2.js example3.js
</span></code></pre></td></tr></table></div></figure>


<p>creates the files <code>example-min.js</code>, <code>example2-min.js</code>, and <code>example3-min.js</code>.</p>

<h4>All .js Files in Working Directory</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>minijs *.js
</span></code></pre></td></tr></table></div></figure>



</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Chris Simpkins <a href="https://twitter.com/csimpkins"><i class="icon-twitter"></i></a> <a href="https://github.com/chrissimpkins"><i class="icon-github"></i></a></span></span>

      








  


<time datetime="2013-09-19T23:04:00-04:00" pubdate data-updated="true">Sep 19<span>th</span>, 2013</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://sweetme.at/2013/09/19/compress-and-obfuscate-your-javascript-with-this-yui-compressor-script/" data-via="" data-counturl="http://sweetme.at/2013/09/19/compress-and-obfuscate-your-javascript-with-this-yui-compressor-script/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2013/09/18/compress-your-css-output-with-the-sass-command-line-tool/" title="Previous Post: Compress Your CSS Output with the SASS Command Line Tool">&laquo; Compress Your CSS Output with the SASS Command Line Tool</a>
      
      
        <a class="basic-alignment right" href="/2013/09/21/how-to-erase-segments-of-text-from-the-cursor-position-on-your-command-line/" title="Next Post: How to Erase Segments of Text Relative to the Cursor Position on Your Bash Command Line">How to Erase Segments of Text Relative to the Cursor Position on Your Bash Command Line &raquo;</a>
      
    </p>
  </footer>
</article>


</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/04/29/simple-local-http-servers/">Simple One-Line Local HTTP Servers</a>
      </li>
    
      <li class="post">
        <a href="/2014/04/27/source-code-todo-logs/">Source Code TODO Logs</a>
      </li>
    
      <li class="post">
        <a href="/2014/04/27/tagged-git-commit-log/">Tagged Git Commit Log</a>
      </li>
    
      <li class="post">
        <a href="/2014/04/07/glue-a-terminal-for-sublime-text/">Glue | A Terminal for Sublime Text</a>
      </li>
    
      <li class="post">
        <a href="/2014/03/15/pydoc-python-documentation-search-from-the-sublime-text-editor/">PyDOC - Python Documentation Search from the Sublime Text Editor</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <div class="dotswrapper hideit">
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
	  <div class="dot"></div>
</div>
  <footer role="contentinfo"><p>
  <span style="color:#888;"><i class="icon-food"></i></span> &nbsp;Delicacies by <a href="https://twitter.com/csimpkins" style="font-family: Lato; font-weight:700;">Chris Simpkins</a>
  <!--Start hidden span for small screens-->
  <span class="hideit"> • <span style="color:#888;"><i class="icon-rocket"></i></span> Built with <a href="http://chrissimpkins.github.io/octopus" style="font-family: Lato; font-weight:700;">Octopus</a> • <span style="color:#888;"><i class="icon-bolt"></i></span> &nbsp;Powered by <a href="http://octopress.org" style="font-family: Lato; font-weight:700;">Octopress</a>
  </span> <!--End hidden span for small screens-->
  </br>
  <span style="color:#888;"><i class="icon-github"></i></span> Proudly hosted by <a href="http://www.github.com" style="font-family: Lato; font-weight:700;">GitHub</a>
</p>
<div id="license-footer" class="hideit"><p><a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="/images/cc-license.png" height="24" width="100"></a> SA-v3.0</p></div>

</footer>
  










  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script src='/javascripts/select.min.js'></script>
<script src='/javascripts/sweetmeat.js'></script>

</body>
</html>
